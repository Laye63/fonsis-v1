if (self.CavalryLogger) { CavalryLogger.start_js(["1zQwy"]); }

__d("MSearchKeywordsConst",[],(function a(b,c,d,e,f,g){f.exports={keywordType:"keyword",keywordTypes:{celebrity:"celebrity",trending:"trending",keyword:"keyword",football:"am_football",photos:"photos",videos:"videos",hashtag:"hashtag",local:"local",localCategory:"local_category",company:"company",movie:"movie",happeningNow:"happening_now",link:"link",specialIntentGeneric:"special_intent_gener"},intentKeys:["isTrending","isCelebrity","isFootball","isPhotos","isVideos","isHashtag","isLocal","isCompany","isMovie","isHappeningNow","isSpecialIntentGeneric","isLink"],keywordBootstrapTypes:{recent:"recent_search_suggestion",popular:"popular_search_suggestion",trending:"trending_search_suggestion",serp_first:"serp_first_suggestion",people:"people_suggestion",null_state:"null_state_suggestion",awareness:"awareness_suggestion",interest:"interest_suggestion",cf_search:"collaborative_filtered_search_suggestion"}}}),null);
__d("MJewelNotifications",["Bootloader","ChannelEventType","MRequest","MURI","Run","Stratcom","SubscriptionsHandler","isFacebookURI"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){"use strict";__p&&__p();function p(q){this.$MJewelNotifications1=q;this.$MJewelNotifications2=[];this.$MJewelNotifications3=false;this.$MJewelNotifications4=false;this.$MJewelNotifications5=new n();this.$MJewelNotifications5.addSubscriptions(l.onLeave(function(){this.$MJewelNotifications5.release()}.bind(this)),m.listen(i.NOTIFICATIONS_NEW,null,this.onNotificationReceive.bind(this)))}p.prototype.getNotifications=function(){return this.$MJewelNotifications2};p.prototype.registerListeners=function(){this.$MJewelNotifications5.addSubscriptions(m.listen(i.NOTIFICATIONS_READ,null,this.onNotificationRead.bind(this)),m.listen("click","live-notifications",this.onNotificationClick.bind(this)),m.listen("m:jewel:flyout:open",null,this.onJewelOpen.bind(this)))};p.prototype.onJewelOpen=function(event){var q=event.getData(),r=q&&q.jewel&&q.jewel==="notifications";if(r&&this.$MJewelNotifications4)this.updateUI()};p.prototype.onNotificationClick=function(event){var q=event.getNode("live-notification");if(!q)return;var r=q.getAttribute("data-alertid");this.readNotification(r);this.updateUI();new j("/a/jewel_notifications_log.php").addData({click_type:"jewel_notif_click",id:r}).send()};p.prototype.onNotificationRead=function(event){var q=event.getData();if(q&&q.alert_ids){q.alert_ids.forEach(function(r){this.readNotification(r)}.bind(this));this.updateUI()}};p.prototype.readNotification=function(q){this.$MJewelNotifications2.forEach(function(r){if(r.alert_id==q){if(r.unread)this.$MJewelNotifications4=true;r.unread=false}}.bind(this))};p.prototype.addNotification=function(q){this.$MJewelNotifications2=this.$MJewelNotifications2.filter(function(r){return r.alert_id!==q.alert_id});q.timestamp=Date.now();this.$MJewelNotifications2.push(q);this.$MJewelNotifications4=true};p.prototype.onNotificationReceive=function(event){__p&&__p();var q=event.getData();if(q&&q.data){if(q.data.type==="friend_confirmed")return;if(!this.$MJewelNotifications3){this.$MJewelNotifications3=true;this.registerListeners()}this.addNotification(q.data);this.updateUI()}};p.prototype.updateUI=function(){if(!this.$MJewelNotifications3||!this.$MJewelNotifications4)return;h.loadModules(["React","ReactDOM","MJewelNotificationList.react","Popover"],function(q,r,s,t){if(!t.getInstance("notifications_flyout").isOpen())return;var u={notifications:this.$MJewelNotifications2};r.render(q.createElement(s,u),this.$MJewelNotifications1);t.getInstance("notifications_flyout").refreshConstraints();this.$MJewelNotifications4=false}.bind(this),"MJewelNotifications")};f.exports=p}),null);
__d("MBeeperController",["Bootloader","CSS","DOM","MHistory","Stratcom","URI","$","cx","getActiveElement","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){__p&&__p();var r=void 0,s=void 0,t=void 0,u=void 0,v=[],w=void 0,x=3e3;function y(G){w=G;q(function(){l.listen("m_notification",null,z);l.listen("blur",null,A);l.listen("m:history:change",null,F)},x)}function z(G){__p&&__p();var H=G.getData();if(!H||!H.data||w&&!H.data.type||w&&w.indexOf(H.data.type)===-1)return;var I={notification:H.data};E(I);if(!r&&!s)h.loadModules(["ReactComponentRenderer","MBeeper.react"],function(J,K){r=J;s=K;F()},"MBeeperController");else F()}function A(G){var H=G.getTarget();if(H&&C(H))setTimeout(F,50)}function B(){v.shift();F()}function C(G){var H=G.tagName;return H==="INPUT"||H==="TEXTAREA"||G.contentEditable==="true"}function D(){return!(C(p())||n("root").offsetHeight===0)}function E(G){var H=v.find(function(I){return I.notification.alert_id===G.notification.alert_id});if(!H)v.push(G)}function F(){__p&&__p();if(!D())return;var G=new m(k.getPath());if(G.getQueryData().soft==="notifications"){v=[];return}var H=v[0];if(!H)return;if(!t){t=j.create("div");i.addClass(t,"_3hy8");n("page").appendChild(t)}if(!u){if(r){u=new r(s,t);u.setProps(babelHelpers["extends"]({},H,{onHide:B}))}}else if(u.component.isReady())u.setProps(H)}g.init=y}),null);
__d("MNotificationClick",["CSS","MLegacyDataStore","MRequest","Stratcom"],(function a(b,c,d,e,f,g,h,i,j,k){__p&&__p();var l="notification",m="list_",n="acw",o="aclb",p={},q=false;f.exports={init:function v(){if(q)return;k.listen("click",l,r);k.listen("m:page:render:cache:complete",null,s);q=true}};function r(event){var v=event.getNode("touchable");if(!v)return;var w=i.get(v).notif_id;if(!w)return;new j("/a/jewel_notifications_log.php").addData({click_type:"notification_click",id:w,target_id:i.get(v).target_id}).send();t(event)}function s(v){if(v.getData().path.indexOf("notifications")>-1)for(var w in p)u(w)}function t(event){__p&&__p();var v=event.getNode("marea");if(!v)return;var w=v.getAttribute("id");if(!w)return;u(w);var x=w.startsWith(m)?w.substring(m.length):m+w;u(x);p[w]=true;p[x]=true}function u(v){var w=document.getElementById(v);if(w){h.addClass(w,n);h.removeClass(w,o)}}}),null);
__d("XBrowserPushXOutController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/notifications/client/push/xout/",{})}),null);
__d("XPushRegisterServiceWorkerController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/push/register/service_worker/",{})}),null);
__d("MNotificationsPushInstall",["Promise","BanzaiLogger","KaiOSController","MobileAppDetect","MRequest","PushRegistration","Stratcom","XBrowserPushXOutController","XPushRegisterServiceWorkerController"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){__p&&__p();function q(event,s,t){var u={event:event,appid:s,surface:t};i.log("BrowserPushLoggerConfig",u)}var r={installHandler:function s(t,u){__p&&__p();q("turn_on",t.appID,u);var v=void 0;if(k.is_kaios)v=t.registerPushOnKaiOS(p,l,j);else{if(m.pushPermissionIsPending())n.invoke("m:notifications:push:install:showCurtain");v=t.registerPush(p,l,function(){},true)}return new h(function(w,x){__p&&__p();v.then(function(){n.invoke("m:notifications:push:install:hideCurtain");q("install",t.appID,u);w(true);n.invoke("m:notifications:push:install:installed");return})["catch"](function(y){n.invoke("m:notifications:push:install:hideCurtain");if(window.Notification&&window.Notification.permission==="denied")q("deny",t.appID,u);else q("install_ignore",t.appID,u);n.invoke("m:notifications:push:install:notInstalled");x(y);return})})},xoutHandler:function s(t,u){return new h(function(v,w){q("xout",t.appID,u);var x=o.getURIBuilder().getURI(),y=new l(x);y.setMethod("post");y.listen("finally",v);y.listen("fail",w);y.send()})}};f.exports=r}),null);
__d("MNotificationsDirectPrompt",["MNotificationsPushInstall","MobileAppDetect","MRequest","PushRegistration","XBrowserPushDisabledController","XPushRegisterServiceWorkerController"],(function a(b,c,d,e,f,g,h,i,j,k,l,m){__p&&__p();var n={install:function o(p,q,r,s,t){__p&&__p();var u=k.get(p,q);if(i.is_kaios){if(!r&&!s)h.installHandler(u,"prompt");return}u.isPushRegistered(r,m,l,j,t,function(){},true).then(function(v){if(!v&&!s)h.installHandler(u,"prompt")["catch"](function(){h.xoutHandler(u,"prompt")})})["catch"](function(){})}};f.exports=n}),null);
__d("MNotificationsPushInstallCurtain",["CSS","Stratcom"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j="upsell_curtain",k=null;function l(){if(k instanceof HTMLElement)h.show(k);i.listen("click",j,m)}function m(){if(k instanceof HTMLElement)h.hide(k)}var n={startListening:function o(p){k=p;i.listen("m:notifications:push:install:showCurtain",null,l);i.listen("m:notifications:push:install:hideCurtain",null,m)}};f.exports=n}),null);
__d("MPageletTypes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CHROME:"chrome",CONTENT:"content"})}),null);
__d("MFirstPageRecorder",["DOM","MDeepCopy","MURI","MPageCache","MPageController","MPageHeaderRight","MPageTitle","MPageletTypes","MRenderingScheduler","MRequestConfig","MResponseData","Stratcom","ScriptPath","$","ge","ServerJS"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){__p&&__p();var w,x=true,y=[];function z(){__p&&__p();if(w)return;w=true;var A=new j(l.getRenderedPath()),B,C=[];y=[p.getInstance().attachListenerToSyncPageletComplete(function(){k.setCachedPage(A,B);k.clearCachedIUIResponses(A);C.forEach(function(D){k.addCachedIUIResponse(A,D)})}),p.getInstance().attachListenerToSyncPageletLoader(function(D){__p&&__p();if(D.pageletConfig.type!==o.CONTENT)return;var E={ajax_response_token:q.ajaxResponseToken.secret,js:D.js||[],css:D.css||[],ixData:D.ixData};E.actions=[{cmd:"replace",target:D.id,html:D.element?v(D.element).innerHTML:D.content.__html,replaceifexists:false,allownull:false},{cmd:"append",target:"static_templates",html:D.pageletConfig.templates.__html,replaceifexists:true}];var F=i(D.pageletConfig.serverJSData),G=[function(){var M=c("ServerJS");new M().handle(i(F))}];if(x){x=false;var H=u("root").cloneNode(true);B=new r({ajax_response_token:q.ajaxResponseToken.secret,js:[],css:[],ixData:[],actions:[{cmd:"script",type:"immediate",fn:function M(){h.replace(u("root"),H.cloneNode(true))}}]});var I=m.getChromeHeaderRightContent();if(I&&I.length>0)G.push(function(){var M=document.createDocumentFragment();for(var L=0;L<I.length;L++)M.appendChild(I[0]);m.setup({node:M})});var J=document.title;G.push(function(){n.setTitle(J)});var K=t.getPageInfo();if(K)G.push(function(){t.set(K.scriptPath,K.categoryToken,K.extraData)})}for(var L=0;L<G.length;L++)E.actions.push({cmd:"script",type:"onload",fn:G[L]});C.push(new r(E))})]}s.listen("m:page:unload",null,function(){y.forEach(function(A){A&&A.remove();A=null});w=true;s.removeCurrentListener()});g.startPageletCaching=z}),null);
__d("MQuickPromotion",["DOM","Stratcom"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=false;f.exports={main:function k(){if(j)return;j=true;i.listen("click","m-promo-close",function(event){var l=event.getNode("m-promo"),m=event.getNode("m-megaphone");h.hide(l,m)})}}}),null);
__d("BrowseWebSLRPELoggerClickType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ITEM_IN_MODULE_TAPPED:"graph_search_results_item_in_module_tapped",ITEM_TAPPED:"graph_search_results_item_tapped",SEE_MORE_TAPPED:"graph_search_results_see_more_on_module_tapped",INLINE_FRIEND_REQUEST:"inline_friend_request",INLINE_PAGE_LIKE_REQUEST:"inline_page_like_request",MODULE_TAPPED:"graph_search_results_module_tapped",TAP_MODULE:"graph_search_results_module_tapped",VIEW_PORT_VIEWS_ON_SEARCH_RESULTS:"view_port_views_on_search_results"})}),null);
__d("XGroupSearchResultsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/groups/search/",{groupID:{type:"Int"},query:{type:"String"},name:{type:"String"},cursor:{type:"String"},source:{type:"String"}})}),null);
__d("MSearchSimplificationUtils",["MHistory","URI","XGroupSearchResultsController"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=new RegExp("^/(search/top|graphsearch/str.+/keywords_(top|search))"),l=new RegExp("^/(search|graphsearch|groups/search)"),m=new RegExp("^/(groups/search)");function n(p){var q=h.getPath(),r=new i(q).getPath();return r.match(p)!=null}var o={getKeywordSemantic:function p(q){return"keywords_search("+q+")"},getKeywordURI:function p(q){return new i("/search/top/").addQueryData("q",q)},getGroupSearchURI:function p(q,r){return j.getURIBuilder().setInt("groupID",q).setString("query",r).getURI()},isSearchURI:function p(q){return q.getPath().match(l)!=null},isTopTabURI:function p(q){return q.getPath().match(k)!=null},isCurrentPathTopTabPath:function p(){return n(k)},isCurrentPathSERPPath:function p(){return n(l)},isCurrentPathScopedSearchPath:function p(){return n(m)},isTypeaheadOpen:function p(){return h.getParam(h.SOFT_STATE_KEY)==="search"},isTabOverlayOpen:function p(){return h.getParam(h.SOFT_STATE_KEY)!=null},getQueryFromCurrentPath:function p(){if(!o.isCurrentPathSERPPath())return null;var q=new i(h.getPath()),r=q.getQueryData();if(r.q!=null)return r.q;var s=q.getPath(),t=s.match(/\/graphsearch\/str\/([^\/]+)/);if(t!=null)return decodeURIComponent(t[1]).replace(/\+/g," ");return null}};f.exports=o}),null);
__d("mSearchSimplificationResultTransformer",["MSearchSimplificationUtils","URI"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(k){var l=k.type==="keyword",m=k.display,n=k.path,o=k.id,p=k.type;m=(k.display||k.text).toLowerCase();o=h.getKeywordSemantic(m);var q=new i(n);if(!l){q=h.getKeywordURI(m).toString();p="keyword"}return{boldedSubtext:k.boldedSubtext,cost:k.cost,display:m,id:o,idx:k.idx,isScoped:k.is_scoped,isVerified:k.is_verified,keyword_type:k.keyword_type,keywordBoldedSubtext:k.keywordBoldedSubtext,keywordRenderType:k.keywordRenderType,logInfo:k.logInfo,name:k.text,photo:k.photo,showGrayCheck:k.show_gray_check,subtext:k.subtext,tokens:k.tokens,type:p,uri:q,verticalType:k.vertical_type,keywordSource:k.keywordSource}}f.exports=j}),null);
__d("MGraphSearchTypeaheadTouchSource",["MTypeaheadTouchSource","SearchMTouchGlobalOptions","createArrayFromMixed","mSearchSimplificationResultTransformer"],(function a(b,c,d,e,f,g,h,i,j,k){__p&&__p();var l,m;l=babelHelpers.inherits(n,h);m=l&&l.prototype;function n(o,p){"use strict";m.constructor.call(this,o,p);this.setNormalizer(function(q){return q.toLowerCase()})}n.prototype.renderNodes=function(o,p){"use strict";__p&&__p();if(this._shouldOnlyPrefixMatch){var q=[];for(var r=p,s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(t>=r.length)break;u=r[t++]}else{t=r.next();if(t.done)break;u=t.value}var v=u,w=this._raw[v];if(w.display.toLowerCase().indexOf(o.toLowerCase())===0)q.push(v)}p=q}return m.renderNodes.call(this,o,p)};n.prototype.checkFragmentMatches=function(o,p,q,r){"use strict";if(o.substr(0,p.length)!==p)return false;var s=q[q.length-1]!==" ";if(!s||p!==r)return o==p;return true};n.prototype.tokenize=function(o){"use strict";var p=m.tokenize.call(this,o);if(p[p.length-1]==="")p.pop();return p};n.prototype.setConvertEntityToKeyword=function(o){"use strict";this.convertEntityToKeyword=o};n.prototype.getTransformer=function(){"use strict";return function(o){if(this.convertEntityToKeyword)return babelHelpers["extends"]({},k(o),{bootstrapped:true});return{name:o.text,uri:o.path,id:o.uid,display:o.display||o.text,photo:o.photo,category:o.category,cost:o.cost,idx:o.idx,tokens:o.tokens,type:o.untranslated_type||o.type,verticalType:o.vertical_type,subtext:o.text_only_subtext||o.subtext,logInfo:o.logInfo,bootstrapped:true,saved_context:o.saved_context,render_type:o.render_type}}.bind(this)};n.prototype.setShouldOnlyPrefixMatch=function(o){"use strict";this._shouldOnlyPrefixMatch=o};f.exports=n}),null);
__d("BrowseWebSLRPELoggerAction",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SEARCH:"search",CLICK:"click",MODULE_IMPRESSION:"module_impression",TIME_SPENT:"time_spent"})}),null);
__d("XSearchBEMClientDataLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/search/async/log_bem_client_data/",{session_id:{type:"String",required:true},logging_unit_id:{type:"String",required:true},event_name:{type:"String",required:true}})}),null);
__d("XSearchBEMUnitDataLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/search/async/log_bem_unit_data/",{session_id:{type:"String",required:true},logging_unit_id:{type:"String",required:true},query:{type:"String",required:true},query_function:{type:"String",required:true},results_module_role:{type:"String",required:true},tapped_results_entity_id:{type:"String"},entity_ids:{type:"StringSet"}})}),null);
__d("memoizeWithArgs",["MemoizationInstrumentation"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=Object.prototype.hasOwnProperty;function j(k,l,m){__p&&__p();var n=void 0,o=m||k.name||"unknown";return function(){if(!n)n={};var p=l.apply(undefined,arguments),q=true;if(!i.call(n,p)){q=false;n[p]=k.apply(undefined,arguments)}h.onFunctionCall("memoizeWithArgs",o,q);return n[p]}}f.exports=j}),null);
__d("MSearchBootstrapEntityModuleLoggingUtils",["BrowseWebSLRPELoggerAction","MRequest","MViewableImpressionTracking","SearchEntityModuleServerConstants","SearchMSiteTrackableClientViewConfig","XSearchBEMClientDataLoggingController","XSearchBEMUnitDataLoggingController","invariant","md5","memoizeWithArgs","randomInt"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){"use strict";__p&&__p();var s=412378670482,t="mtouch_bem",u="mtouch_bem_res",v={getModuleTrackingData:q(function(w,x){var y=k.SEARCH_RESULTS_TRACKABLE,z=y+JSON.stringify({session_id:w,unit_id:v._getModuleUnitID(w),unit_id_click_type:x});return{"data-xt":z,"data-xt-vimp":JSON.stringify(l)}},function(w,x){return w+(x!=null?x:"")}),getSerializedResultTrackingData:q(function(w,x,y,z){var A=x.type,B=k.SEARCH_RESULTS_TRACKABLE,C=k.MTOUCH_BEM_CLICK_TYPE,D=k.RESULT_TYPE_TO_MODULE_ROLE,E=k.TYPE_TO_BROWSE_TYPE,F=v._getResultUnitID(w,x);return B+JSON.stringify({browse_result_type:E[A],click_type:C,module_result_position:y.indexOf(x),module_role:D[A],result_id:x.id,sid:w,unit_id:F,unit_id_click_type:z,unit_id_result_id:x.id})},function(w,x,y,z){return w+x.id+y.map(function(x){return x.id}).join(",")+(z!=null?z:"")}),logUnitData:function w(x,y,z){__p&&__p();var A=v._getModuleUnitID(x),B=y.first();B!=null||o(0);var C=B.type,D=k.RESULT_TYPE_TO_MODULE_ROLE,E=k.BROWSE_EDGE_KEYWORDS_SEARCH,F=E+"("+z+")",G=D[C],H=m.getURIBuilder().setString("logging_unit_id",A).setString("session_id",x).setString("event_name",h.MODULE_IMPRESSION);new i(H.getURI()).send();var I=n.getURIBuilder().setString("session_id",x).setString("query",z).setString("query_function",F).setString("results_module_role",G).setString("logging_unit_id",A).setStringSet("entity_ids",y.map(function(N){return N.id}).toArray());new i(I.getURI()).send();for(var J=y,K=Array.isArray(J),L=0,J=K?J:J[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var M;if(K){if(L>=J.length)break;M=J[L++]}else{L=J.next();if(L.done)break;M=L.value}var N=M,O=v._getResultUnitID(x,N);I=n.getURIBuilder().setString("session_id",x).setString("query",z).setString("query_function",F).setString("results_module_role",G).setString("logging_unit_id",O).setString("tapped_results_entity_id",String(N.id));new i(I.getURI()).send()}},initVPVDLogging:function w(){j.init()},_getModuleUnitID:q(function(w){return v._generateUnitID(t)},function(w){return w}),_getResultUnitID:q(function(w,x){return v._generateUnitID(u)},function(w,x){return w+x.id}),_generateUnitID:function w(x){return x+":"+p(String(r(0,Number.MAX_SAFE_INTEGER)))}};f.exports=v}),null);
__d("XSearchEntityPrimaryActionsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/search/entity_primary_actions/",{container_id:{type:"String",required:true},ent_id:{type:"FBID",required:true},result_type:{type:"String",required:true}})}),null);
__d("XSearchProfilePictureController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/search/async/profile_picture/",{fbid:{type:"FBID",required:true},width:{type:"Int",required:true},height:{type:"Int",required:true}})}),null);
__d("MSearchEntityResult",["DOM","MRequest","MRequestTypes","SearchResultPageExperiments","XSearchEntityPrimaryActionsController","XSearchProfilePictureController","cx","setImmediateAcrossTransitions"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){"use strict";__p&&__p();var p=64;function q(u){var v=u.result.photo,w=k.useUncachedBootstrapEntityModulePictures&&u.result.type==="user";if(w)v=m.getURIBuilder().setFBID("fbid",String(u.result.id)).setInt("width",p).setInt("height",p).getURI().toString();if(v==null)return null;return h.create("a",{href:u.result.uri,touchable:true},h.create("img",{className:"_uod",src:v}))}function r(u){var v=u.result,w=v.name,x=v.subtext,y=v.isVerified,z=v.showGrayCheck,A=void 0;if(y)A=h.create("i",{className:"_uoe"});var B=void 0;if(z)B=h.create("i",{className:"_uog"});return h.create("a",{className:"_uoh touchable",href:u.result.uri},[h.create("div",{className:"_uoi"},h.create("div",{className:"_uok"},w),[A,B]),h.create("div",{className:"_1e8d"},x)])}function s(u){var v=u.result,w="bem_"+v.id,x=h.create("div",{id:w,className:"_5_fr"},h.create("div",{className:"_55ym _55yq"}));o(function(){var y=l.getURIBuilder().setString("container_id",w).setFBID("ent_id",String(v.id)).setString("result_type","browse_type_"+v.type).getURI();new i(y).setMethod("GET").setType(j.INDEPENDENT).send()});return x}function t(u){return h.create("div",{className:"_uoq _3o0d"},[q(u),r(u),s(u)])}f.exports=t}),null);
__d("XTrackableImpressionController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/xt/i/",{xt:{type:"String",required:true},isv:{type:"Int"},cts:{type:"Int"},csp:{type:"Int"}})}),null);
__d("generateBrowseSessionID",["CurrentUser","md5"],(function a(b,c,d,e,f,g,h,i){var j={mtouch:"412378670482",www:"256281040558"},k="keywords_search";function l(m){var n=m.appName,o=m.edge;return i([j[n],h.getID(),o,Math.floor(Date.now()/30)].join(":"))}f.exports=l}),null);
__d("MSearchBootstrapEntityModule",["BrowseWebSLRPELoggerClickType","CSS","DOM","immutable","MGraphSearchTypeaheadTouchSource","MPageFetcher","MRequest","MRequestTypes","MSearchBootstrapEntityModuleLoggingUtils","MSearchBootstrapEntityModuleSettings","MSearchEntityResult","MSearchSimplificationUtils","MViewport","SearchEntityModuleServerConstants","Stratcom","Style","SubscriptionsHandler","URI","XTrackableImpressionController","csx","cx","fbt","generateBrowseSessionID"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D){"use strict";__p&&__p();function E(F){__p&&__p();this.$MSearchBootstrapEntityModule2=function(){__p&&__p();var G=this.state.query,H=k.List(this.source.getMatchedResults(G));if(H.size===0){this.setState({results:k.List(),resultType:null,isVisible:false,sessionID:D({appName:"mtouch",edge:"keywords_search"})});return}H.forEach(function(O){if(O.type==="app")O.type="application";if(O.render_type==="place")O.type="place"});var I=H.first(),J=I.type;if(J==null){this.setState({results:k.List(),isVisible:false,sessionID:D({appName:"mtouch",edge:"keywords_search"})});return}H=H.filter(function(O){return O.render_type===J||O.type===J});var K=D({appName:"mtouch",edge:"keywords_search"}),L=s.isCurrentPathTopTabPath(),M=s.isTypeaheadOpen();this.setState({results:H,isVisible:H.size>0&&(this.state.serpIsLoading||L&&!M),sessionID:K});p.logUnitData(this.state.sessionID,this.state.results,this.state.query);p.initVPVDLogging();this.resultsElement=j.create("div",p.getModuleTrackingData(this.state.sessionID,h.VIEW_PORT_VIEWS_ON_SEARCH_RESULTS));var N=H.map(function(O,P){O.uri=new y(O.uri).addQueryData({refid:u.MTOUCH_SEARCH_REFID,ref:u.BROWSE_NAV_SOURCE_CONTENT_FILTERS,__xt__:p.getSerializedResultTrackingData(K,O,H,h.ITEM_IN_MODULE_TAPPED)}).toString();return[this.$MSearchBootstrapEntityModule7(O),r({result:O})]}.bind(this)).toArray();this.footer=this.$MSearchBootstrapEntityModule8(J,G);j.setContent(this.resultsElement,[this.$MSearchBootstrapEntityModule9(J),j.create("div",{},N),this.footer]);j.setContent(this.root,this.resultsElement)}.bind(this);this.$MSearchBootstrapEntityModule3=function(){var G=s.isCurrentPathSERPPath(),H=s.isCurrentPathTopTabPath(),I=s.isTypeaheadOpen(),J=s.getQueryFromCurrentPath(),K=this.state.query;if(J!=null)K=J;this.setState({query:K,isVisible:H&&!I&&this.state.results.size>0,spinnerIsVisible:G&&!I&&this.state.serpIsLoading});if(H)t.scrollToHeader()}.bind(this);this.$MSearchBootstrapEntityModule4=function(){var G=s.isCurrentPathSERPPath();this.setState({footerIsVisible:false,spinnerIsVisible:G,serpIsLoading:G})}.bind(this);this.$MSearchBootstrapEntityModule5=function(){__p&&__p();this.setState({spinnerIsVisible:false,serpIsLoading:false});var G=s.isCurrentPathTopTabPath();if(!G)return;var H=this.state.results;if(H.size===0)return;var I=H.first(),J=I.render_type!=null?I.render_type:I.type,K=document.querySelector("._45fx [data-module-result-type]");if(K==null||K.getAttribute("data-module-result-type")!==J)this.setState({footerIsVisible:true});else if(K!=null)w.set(K,"margin-top",0)}.bind(this);this.$MSearchBootstrapEntityModule6=function(G,H,I){var J,K=this.state.results;if(!s.isTopTabURI(H)||K.size===0)return null;var L=K.first(),M=L.render_type!=null?L.render_type:L.type;return new n(H.toString()).setType(o.TRANSITION).setFullPage(true).setMethod(G).addData((J={preloaded_entity_ids:K.map(function(N){return N.id}).toArray(),preloaded_entity_type:M},J[u.SERP_SESSION_ID]=this.state.sessionID,J))}.bind(this);this.typeahead=F}E.prototype.enable=function(){this.state={query:this.typeahead.getValue(),isVisible:false,spinnerIsVisible:false,footerIsVisible:false,serpIsLoading:false,results:k.List(),sessionID:D({appName:"mtouch",edge:"keywords_search"})};this.$MSearchBootstrapEntityModule1();this.source=new l(q.bootstrapSource,q.bootstrapKey);this.source.clientRendered=true;this.source.setMaximumResultCount(q.maxBootstrapResults);this.subscriptions=new x();this.subscriptions.addSubscriptions(this.source.listen("resultsready",this.$MSearchBootstrapEntityModule2),v.listen("m:history:change",null,this.$MSearchBootstrapEntityModule3),v.listen("m:page:request-sent",null,this.$MSearchBootstrapEntityModule4),v.listen("m:page:render:complete",null,this.$MSearchBootstrapEntityModule5));this.source.didStart();m.addHandler(this.$MSearchBootstrapEntityModule6)};E.prototype.disable=function(){this.subscriptions.release();j.remove(this.root)};E.prototype.$MSearchBootstrapEntityModule1=function(){__p&&__p();this.root=j.create("div",{className:"_234-"});if(this.state.isVisible)j.show(this.root);else j.hide(this.root);j.appendContent(this.typeahead.getRoot(),this.root);this.spinner=j.create("div",{className:"_5_ee"},j.create("div",{className:"_55ym _55yq"}));if(this.state.spinnerIsVisible)j.show(this.spinner);else j.hide(this.spinner);j.appendContent(this.typeahead.getRoot(),this.spinner)};E.prototype.$MSearchBootstrapEntityModule10=function(F){__p&&__p();var G=null;switch(F){case"user":G=C._("Personnes");break;case"page":G=C._("Pages");break;case"group":G=C._("Groupes");break;case"application":G=C._("Apps");break;case"place":G=C._("Lieux");break;case"event":G=C._("\u00c9v\u00e8nements");break}return G};E.prototype.$MSearchBootstrapEntityModule9=function(F){return j.create("div",{className:"_5_50"+(F==="user"?" _5_51":"")+(F==="page"?" _234_":"")+(F==="group"?" _2350":"")+(F==="application"?" _2351":"")+(F==="place"?" _2352":"")+(F==="event"?" _2353":"")},this.$MSearchBootstrapEntityModule10(F))};E.prototype.$MSearchBootstrapEntityModule8=function(F,G){var H=new y(u.TYPE_TO_SERP_PATH[F]).setQueryData({q:G,source:"pivot",tsid:this.typeahead.getSessionID()});if(this.footer!=null)this.footer.setAttribute("href",H);else this.footer=j.create("a",{href:H,className:"_235a"},C._("Tout afficher"));if(this.state.footerIsVisible)j.show(this.footer);else j.hide(this.footer);return this.footer};E.prototype.$MSearchBootstrapEntityModule7=function(F){var G=z.getURIBuilder().setString("xt",p.getSerializedResultTrackingData(this.state.sessionID,F,this.state.results)).getURI(),H=j.create("iframe",{src:new y(G),width:0,height:0,frameborder:0,scrolling:"no",className:"fbEmuTracking"});H.setAttribute("aria-hidden","true");return H};E.prototype.setState=function(F){__p&&__p();var G=babelHelpers["extends"]({},this.state);this.state=babelHelpers["extends"]({},this.state,F);if(G.query!==this.state.query)this.source.didChange(this.state.query);if(G.isVisible!==this.state.isVisible)if(this.state.isVisible){j.show(this.root);i.addClass(this.spinner,"_5_ef")}else{j.hide(this.root);i.removeClass(this.spinner,"_5_ef")}if(G.serpIsLoading!==this.state.serpIsLoading||G.footerIsVisible!==this.state.footerIsVisible)if(this.state.serpIsLoading)i.removeClass(this.root,"_5_eg");else if(!this.state.footerIsVisible)i.addClass(this.root,"_5_eg");else if(this.state.footerIsVisible)i.removeClass(this.root,"_5_eg");if(this.footer!=null&&G.footerIsVisible!==this.state.footerIsVisible)if(this.state.footerIsVisible)j.show(this.footer);else j.hide(this.footer);if(G.spinnerIsVisible!==this.state.spinnerIsVisible)if(this.state.spinnerIsVisible)j.show(this.spinner);else j.hide(this.spinner)};f.exports=E}),null);
__d("MActionBubbleMask",["CSS","DOM","MViewport","Stratcom","cx","requestAnimationFrame"],(function a(b,c,d,e,f,g,h,i,j,k,l,m){__p&&__p();var n="_5nvw",o="_5nvx",p=300;function q(r){"use strict";this.$MActionBubbleMask1=null;this.$MActionBubbleMask2=null;this.$MActionBubbleMask3=r}q.prototype.enable=function(){"use strict";var r=this.$MActionBubbleMask3.getRoot().getAttribute("data-mask-class");if(!r)r=n;this.$MActionBubbleMask2=i.create("div",{className:r});this.$MActionBubbleMask1=[this.$MActionBubbleMask3.addListener("show",this.$MActionBubbleMask4.bind(this)),this.$MActionBubbleMask3.addListener("hide",this.$MActionBubbleMask5.bind(this)),this.$MActionBubbleMask3.addListener("reposition",this.$MActionBubbleMask6.bind(this)),i.listen(this.$MActionBubbleMask2,"touchend",null,function(s){s.stop()})];if(this.$MActionBubbleMask3.isShown())this.$MActionBubbleMask4()};q.prototype.disable=function(){"use strict";this.$MActionBubbleMask5();while(this.$MActionBubbleMask1.length)this.$MActionBubbleMask1.pop().remove();this.$MActionBubbleMask1=null;this.$MActionBubbleMask2=null};q.prototype.$MActionBubbleMask4=function(){"use strict";i.insertBefore(this.$MActionBubbleMask3.getRoot(),this.$MActionBubbleMask2);h.addClass(this.$MActionBubbleMask3.getCausalElement(),o);this.$MActionBubbleMask7=k.listen("scroll",null,this.$MActionBubbleMask6.bind(this));this.$MActionBubbleMask6()};q.prototype.$MActionBubbleMask5=function(){"use strict";i.remove(this.$MActionBubbleMask2);var r=this.$MActionBubbleMask3.getCausalElement();if(r)h.removeClass(r,o);this.$MActionBubbleMask7&&this.$MActionBubbleMask7.remove();this.$MActionBubbleMask7=null};q.prototype.$MActionBubbleMask6=function(){"use strict";m(function(){this.$MActionBubbleMask2.style.top=j.getScrollTop()-p+"px";this.$MActionBubbleMask2.style.height=j.getHeight()+p*2+"px"}.bind(this))};f.exports=q}),null);
__d("MLayerHideOnCloseClick",["DOM"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j){"use strict";this.$MLayerHideOnCloseClick1=null;this.$MLayerHideOnCloseClick2=null;this.$MLayerHideOnCloseClick3=j}i.prototype.enable=function(){"use strict";this.$MLayerHideOnCloseClick1=[this.$MLayerHideOnCloseClick3.addListener("show",this.$MLayerHideOnCloseClick4.bind(this)),this.$MLayerHideOnCloseClick3.addListener("hide",this.$MLayerHideOnCloseClick5.bind(this))];if(this.$MLayerHideOnCloseClick3.isShown())this.$MLayerHideOnCloseClick4()};i.prototype.disable=function(){"use strict";this.$MLayerHideOnCloseClick5();while(this.$MLayerHideOnCloseClick1.length)this.$MLayerHideOnCloseClick1.pop().remove();this.$MLayerHideOnCloseClick1=null};i.prototype.$MLayerHideOnCloseClick5=function(){"use strict";this.$MLayerHideOnCloseClick2&&this.$MLayerHideOnCloseClick2.remove()};i.prototype.$MLayerHideOnCloseClick4=function(){"use strict";this.$MLayerHideOnCloseClick2=h.listen(this.$MLayerHideOnCloseClick3.getRoot(),"click","mlayer-hide-on-click",this.$MLayerHideOnCloseClick3.hide.bind(this.$MLayerHideOnCloseClick3))};f.exports=i}),null);
__d("MSearchTabBar",["CSS","DOM","MActionBubbleMask","MFlyout","MLayerDestroyOnTransition","MLayerHideOnBlur","MLayerHideOnCloseClick","Stratcom","SubscriptionsHandler","containsNode","cx","throttle"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){"use strict";__p&&__p();function t(u,v){__p&&__p();var w=arguments.length<=2||arguments[2]===undefined?{destroyOnTransition:true}:arguments[2];this.render=function(){__p&&__p();if(this.$MSearchTabBar3==null){this.$MSearchTabBar3=i.create("div",{className:"button touchable _x02 _x03"},i.create("div",{className:"_x04"}));this.$MSearchTabBar9.addSubscriptions(i.listen(this.$MSearchTabBar3,"click",null,this.$MSearchTabBar12));i.appendContent(this.$MSearchTabBar1,this.$MSearchTabBar3)}if(this.$MSearchTabBar4==null)this.$MSearchTabBar4=i.create("div",{className:"_x08"});if(this.$MSearchTabBar8==null){var x=[m,j,n];if(this.$MSearchTabBar10.destroyOnTransition)x.push(l);this.$MSearchTabBar8=new k({classNames:["_55i2","accelerate"],nubalign:"center",offsetY:5,position:"below",margin:"none",width:"wide",addedBehaviors:x,context:this.$MSearchTabBar3},this.$MSearchTabBar4)}var y=this.$MSearchTabBar5;if(y==null){y=[];for(var z=this.$MSearchTabBar2,A=Array.isArray(z),B=0,z=A?z:z[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var C;if(A){if(B>=z.length)break;C=z[B++]}else{B=z.next();if(B.done)break;C=B.value}var D=C;y.push(i.create("a",{href:D.uri,className:"_x0a"+(D.is_selected===true?" _x0b":""),"data-sigil":"mlayer-hide-on-click"},D.label))}i.prependContent(this.$MSearchTabBar1,y);this.$MSearchTabBar5=y}var E=this.$MSearchTabBar6;if(E==null){E=this.$MSearchTabBar3.offsetWidth;this.$MSearchTabBar6=E}var F=this.$MSearchTabBar1.offsetWidth-E,G=0,H=0,I=y.length,J=void 0;for(;H<y.length;H++){if(this.$MSearchTabBar2[H].is_selected)J=H;if(this.$MSearchTabBar7[H]==null)this.$MSearchTabBar7[H]=y[H].offsetWidth;G+=this.$MSearchTabBar7[H];if(I===y.length&&G>F)I=H}var K=y.slice();if(I<K.length&&J!=null&&J>=I){var L=K[J];K.splice(J,1);K.splice(I-1,0,L)}for(var M=0;M<K.length;M++)if(M<I)i.appendContent(this.$MSearchTabBar1,K[M]);else i.appendContent(this.$MSearchTabBar4,K[M]);i.appendContent(this.$MSearchTabBar1,this.$MSearchTabBar3);if(I<K.length)h.removeClass(this.$MSearchTabBar3,"_x03");else h.addClass(this.$MSearchTabBar3,"_x03")}.bind(this);this.$MSearchTabBar12=function(event){if(!q(this.$MSearchTabBar3,event.getTarget()))return;h.addClass(this.$MSearchTabBar3,"_x0d");o.addSigil(this.$MSearchTabBar3,"selected");o.removeCurrentListener()}.bind(this);this.$MSearchTabBar11=function(){h.removeClass(this.$MSearchTabBar3,"_x0d");o.removeSigil(this.$MSearchTabBar3,"selected");o.listen("click",null,this.$MSearchTabBar12)}.bind(this);this.$MSearchTabBar1=u;this.$MSearchTabBar7=[];this.$MSearchTabBar10=w;this.$MSearchTabBar9=new p();this.$MSearchTabBar9.addSubscriptions(o.listen("m:flyout:close",null,this.$MSearchTabBar11),o.listen(["m:viewport:orientation-change","resize"],null,s(this.render,200)));if(w.destroyOnTransition)this.$MSearchTabBar9.addSubscriptions(o.listen("m:page:unload",null,function(){this.$MSearchTabBar9.release()}.bind(this)));if(v!=null)this.setTabs(v)}t.prototype.setTabs=function(u){this.$MSearchTabBar2=u;if(this.$MSearchTabBar5!=null)this.$MSearchTabBar5.forEach(function(v){return i.remove(v)});this.$MSearchTabBar5=null;this.render();return this};t.init=function(u,v){var w=arguments.length<=2||arguments[2]===undefined?{destroyOnTransition:true}:arguments[2];return new t(u,v,w)};f.exports=t}),null);
__d("MSearchTabsAboveBEM",["DOM","MSearchSimplificationUtils","MSearchTabBar","Stratcom","SubscriptionsHandler","URI","csx","cx","fbt"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){"use strict";__p&&__p();function q(r){this.$MSearchTabsAboveBEM10=function(){this.$MSearchTabsAboveBEM12()}.bind(this);this.$MSearchTabsAboveBEM9=function(){this.$MSearchTabsAboveBEM12()}.bind(this);this.$MSearchTabsAboveBEM11=function(){var s=i.isCurrentPathSERPPath();if(!s)q.setTabs(this.$MSearchTabsAboveBEM8())}.bind(this);this.$MSearchTabsAboveBEM3=r}q.prototype.enable=function(){__p&&__p();this.$MSearchTabsAboveBEM1={isVisible:false};this.$MSearchTabsAboveBEM2=h.create("div",{className:"_1t4h"});var r=document.querySelector("._234-");if(r!=null)h.insertBefore(r,this.$MSearchTabsAboveBEM2);else h.appendContent(this.$MSearchTabsAboveBEM3.getRoot(),this.$MSearchTabsAboveBEM2);q.$MSearchTabsAboveBEM7=j.init(this.$MSearchTabsAboveBEM2,q.$MSearchTabsAboveBEM6!=null?q.$MSearchTabsAboveBEM6:this.$MSearchTabsAboveBEM8(),{destroyOnTransition:false});h.hide(this.$MSearchTabsAboveBEM2);this.$MSearchTabsAboveBEM4=new l();this.$MSearchTabsAboveBEM4.addSubscriptions(k.listen("m:page:render:complete",null,this.$MSearchTabsAboveBEM9),k.listen("m:history:change",null,this.$MSearchTabsAboveBEM10),k.listen("m:page:unload",null,this.$MSearchTabsAboveBEM11));this.$MSearchTabsAboveBEM12()};q.prototype.disable=function(){this.$MSearchTabsAboveBEM4.release();h.remove(this.$MSearchTabsAboveBEM2)};q.prototype.$MSearchTabsAboveBEM12=function(){var r=i.isCurrentPathSERPPath(),s=i.isTypeaheadOpen(),t=i.isCurrentPathScopedSearchPath();this.$MSearchTabsAboveBEM13({isVisible:r&&!s&&!t})};q.prototype.$MSearchTabsAboveBEM13=function(r){var s=babelHelpers["extends"]({},this.$MSearchTabsAboveBEM1);this.$MSearchTabsAboveBEM1=babelHelpers["extends"]({},this.$MSearchTabsAboveBEM1,r);if(s.isVisible!==this.$MSearchTabsAboveBEM1.isVisible)if(this.$MSearchTabsAboveBEM1.isVisible){h.show(this.$MSearchTabsAboveBEM2);q.$MSearchTabsAboveBEM7.render()}else h.hide(this.$MSearchTabsAboveBEM2)};q.prototype.$MSearchTabsAboveBEM8=function(){if(this.$MSearchTabsAboveBEM5==null)this.$MSearchTabsAboveBEM5=[{is_selected:true,label:p._("Tous"),uri:new m("#")},{label:p._("Publications"),uri:new m("#")},{label:p._("Personnes"),uri:new m("#")},{label:p._("Photos"),uri:new m("#")},{label:p._("Vid\u00e9os"),uri:new m("#")},{label:p._("Pages"),uri:new m("#")},{label:p._("Lieux"),uri:new m("#")},{label:p._("Groupes"),uri:new m("#")},{label:p._("Applications"),uri:new m("#")},{label:p._("\u00c9v\u00e8nements"),uri:new m("#")}];return this.$MSearchTabsAboveBEM5};q.setTabs=function(r){q.$MSearchTabsAboveBEM6=r;var s=q.$MSearchTabsAboveBEM7;if(s!=null)s.setTabs(r)};f.exports=q}),null);
__d("MGraphSearchTypeaheadBucketizer",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=20;function i(k){__p&&__p();if(k.isTrending&&k.isNullStateSuggestion)return"trending";else if(k.isRecentSearch)return"recent";else if(k.isPYMK)return"pymk";else if(k.isScoped)return k.isNullStateSuggestion?"group_popular":"group_search";else if(k.isSeeMore)return"see_more";else if(k.type==="keyword")return"suggested";else return"top_matches"}function j(k){k=k||{};this.maxResults=k.maxResults||h}j.prototype.bucketize=function(k,l){__p&&__p();var m={},n=[],o=Math.min(k.length,this.maxResults);for(var p=0;p<o;p++){var q=k[p],r=i(q);if(!m[r]){var s=[];m[r]=s;n.push({headerType:r,results:s})}m[r].push(q)}if(m.suggested!=null&&l!=null)m.suggested.splice(l-1,m.suggested.length-l);return n};f.exports=j}),null);
__d("MGraphSearchTypeaheadHeaders",["fbt"],(function a(b,c,d,e,f,g,h){"use strict";var i={pymk:h._("Vous connaissez peut-\u00eatre..."),recent:h._("Vos recherches"),suggested:h._("Recherches"),top_matches:h._("Meilleurs r\u00e9sultats"),trending:h._("Populaires"),group_popular:h._("Populaires dans ce groupe"),group_search:h._("Rechercher dans ce groupe"),suggested_global:h._("Rechercher dans tout Facebook")},j={pymk:h._("VOUS CONNAISSEZ PEUT-\u00caTRE..."),recent:h._("RECHERCHES R\u00c9CENTES"),suggested:h._("RECHERCHES"),top_matches:h._("MEILLEURS R\u00c9SULTATS"),trending:h._("\u00c0 LA UNE"),group_popular:h._("POPULAIRE DANS CE GROUPE"),group_search:h._("RECHERCHER DANS CE GROUPE"),suggested_global:h._("RECHERCHER DANS TOUT FACEBOOK")};f.exports={Labels:i,CapitalizedLabels:j}}),null);
__d("MSearchSimplificationHeader",["DOM","MGraphSearchTypeaheadHeaders","cx","fbt","joinClasses"],(function a(b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();var m=i.CapitalizedLabels;function n(p){var q=p.activityLogURI,r=h.create("a",{href:q,className:l("touchable","_z-v")},k._("Modifier"));r.setAttribute("data-edit-recent-searches",true);return h.create("div",{className:"_z-w"},[h.create("div",{className:"_z-z"},m.recent),r])}function o(p){var q=p.type,r=p.query,s=p.searchMode,t=p.isFirst;if(q==="recent")return n(p);if(r===""||s==="group")return h.create("div",{className:"_z-w"},h.create("div",{className:"_z-z"},m[q]));else if(!t)return h.create("div",{className:"_z--"});return null}f.exports=o}),null);
__d("MSearchSimplificationNullstateResult",["DOM","MSearchKeywordsConst","cx","fbt"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l=" \xb7 ";function m(p){var q=p.result.id;if(q==null||String(q).match(/^[0-9]+$/)==null)return null;var r=p.result.photo;if(r==null)return null;return h.create("img",{className:"_1e86",src:r})}function n(p){__p&&__p();var q=p.result,r=q.isSeeMore,s=q.subtext,t=q.boldedSubtext,u=q.isVerified,v=q.showGrayCheck,w=p.result.display;if(r)w=k._("Voir plus de r\u00e9sultats pour \u00ab\u00a0{query}\u00a0\u00bb",[k.param("query",w)]);var x=void 0;if(u)x=h.create("i",{className:"_1e87"});var y=void 0;if(v)y=h.create("i",{className:"_1e88"});return h.create("div",{className:"_1e89"},[h.create("div",{className:"_1e8a"},h.create("div",{className:"_1e8b"},w),[x,y]),h.create("div",{className:"_1e8d"},[t,t&&s?l:null,s])])}function o(p){var q=p.result,r=q.id,s=q.isSeeMore,t=q.uriWithSession,u=q.type,v=q.isTrending,w=u===i.keywordType,x=void 0;if(v||w)x=h.create("i",{className:"_1e8e"+(v?" _1e8f":"")+(w?" _1e8g":"")});return h.create("a",{className:"touchable _1e8h"+(s?" _1e8i":""),href:t,rel:r},[m(p),x,n(p)])}f.exports=o}),null);
__d("MSearchSimplificationSeeMoreRecentResultsButton",["DOM","cx","fbt"],(function a(b,c,d,e,f,g,h,i,j){"use strict";function k(){return h.create("a",{className:"_4x4z"},[j._("Voir plus"),h.create("span",{className:"_4x4-"})])}f.exports=k}),null);
__d("mayHaveConnectedCharacters",[],(function a(b,c,d,e,f,g){"use strict";function h(i){return i.match(/[\u0900-\u097F\u0980-\u09FF\u0A00-\u0A7F\u0A80-\u0AFF\u0B00-\u0B7F\u0B80-\u0BFF\u0C00-\u0C7F\u0C80-\u0CFF\u0D00-\u0D7F\u0D80-\u0DFF\u0E00-\u0E7F\u0E80-\u0EFF\u0F00-\u0FFF\u1000-\u109F\u1700-\u171F\u1720-\u173F\u1740-\u175F\u1760-\u177F\u1780-\u17FF\u1900-\u194F\u1950-\u197F\u1980-\u19DF\u19E0-\u19FF\u1A00-\u1A1F\u1A20-\u1AAF\u1B00-\u1B7F\u1B80-\u1BBF\u1BC0-\u1BFF\u1C00-\u1C4F\u1CC0-\u1CCF\uA800-\uA82F\uA840-\uA87F\uA880-\uA8DF\uA8E0-\uA8FF\uA930-\uA95F\uA980-\uA9DF\uA9E0-\uA9FF\uAA00-\uAA5F\uAA60-\uAA7F\uAA80-\uAADF\uAAE0-\uAAFF\uABC0-\uABFF\u0600-\u06FF\u0750–\u077F\u08A0–\u08FF\uFB50–\uFDFF\uFE70–\uFEFF\u4e00-\u9faf\u0D80-\u0DFF\u0E80-\u0EFF]/)!=null}f.exports=h}),null);
__d("MSearchSimplificationTypedResult",["DOM","Locale","cx","fbt","gkx","mayHaveConnectedCharacters"],(function a(b,c,d,e,f,g,h,i,j,k,l,m){"use strict";__p&&__p();function n(){return h.create("button",{className:"_niv"},[h.create("span",{className:"_nix"+(i.isRTL()?" _4uv-":"")})])}function o(q){var r=q.result.display;if(q.result.isSeeMore)r=k._("Voir plus de r\u00e9sultats pour \u00ab\u00a0{query}\u00a0\u00bb",[k.param("query",r)]);else{var s=q.query;s=s.toLowerCase();if(!m(r)&&r.indexOf(s)===0)r=[s,h.create("strong",{},r.slice(s.length,r.length))]}return h.create("div",{className:"_io1"},r)}function p(q){var r=q.result,s=r.id,t=r.isSeeMore,u=r.uriWithSession,v=[o(q)];if(l("AT7lRNSvv5EvGMuc3qVyuEm6B5fx-wiQM2ULDCbypxprax0mO6oqX7RtrS3jr3DVy5zZveUFf1UNWCcFGWRnQWgb")&&!t)v.push(n());return h.create("a",{className:"touchable _io2"+(t?" _iop":""),href:u,rel:s},v)}f.exports=p}),null);
__d("MGraphSearchCompositeSource",["SearchMTouchGlobalOptions","TypeaheadCompositeSource"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,i);k=j&&j.prototype;l.prototype.mergeResults=function(m,n){"use strict";__p&&__p();var o=k.mergeResults.call(this,m,n);if(!o||!this.$MGraphSearchCompositeSource1||o.some(function(D){return D.type==="trending"})||o.some(function(D){return D.isRecentSearch}))return o;o.length=Math.min(o.length,this.$MGraphSearchCompositeSource1.maxResults);if(h.keywordsOnlyEnabled){var p=[],q={};for(var r=o,s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(t>=r.length)break;u=r[t++]}else{t=r.next();if(t.done)break;u=t.value}var v=u;if(!q[v.id]){q[v.id]=true;p.push(v)}}return p}if(this.$MGraphSearchCompositeSource1.enableLegacyStyleBucketization)return this.bucketResults(o);var w=false,x=o[0];if(x&&(x.bootstrapped||x.bootstrap||x.type==="user"&&x.cost<this.$MGraphSearchCompositeSource1.minCostForUserToSurfaceAtTop))w=true;var y=false;for(var z=0;z<this.$MGraphSearchCompositeSource1.maxPositionOfEntityToDivideKeywords;z++)if(o[z]&&o[z].type!=="keyword")y=true;var A=[],B=[],C=[],D=null;for(var E=0;E<o.length;E++){D=o[E];if(!(D.bootstrapped&&this.$MGraphSearchCompositeSource1.keepBootstrapped)&&D.type in this.$MGraphSearchCompositeSource1.filterOutTypes)continue;if(D.type==="keyword")if(!w&&(!y||B.length<this.$MGraphSearchCompositeSource1.maxKeywordAboveEntities))B.push(D);else C.push(D);else A.push(D)}if(this.$MGraphSearchCompositeSource1.overrideKWRankingBehavior){var F,G=B;G.push.apply(G,C);var H=G.slice(0,this.$MGraphSearchCompositeSource1.numKeywordsAboveEntities),I=G.slice(this.$MGraphSearchCompositeSource1.numKeywordsAboveEntities);o=H;(F=o).push.apply(F,A);if(this.$MGraphSearchCompositeSource1.hasKeywordsBelowEntities){var J;(J=o).push.apply(J,I)}}else{var K,L;o=B;(K=o).push.apply(K,A);(L=o).push.apply(L,C)}return o};l.prototype.bucketResults=function(m){"use strict";__p&&__p();if(!m.length)return m;var n,o,p=[],q={};for(var r=0,s=m.length;r<s;r++){n=m[r];o=this.getBucketType(n);if(!q[o]){p.push(o);q[o]=[n]}else q[o].push(n)}return p.reduce(function(m,t){return m.concat(q[t])},[])};l.prototype.getBucketType=function(m){"use strict";if(m.type==="keyword"||m.is_grammar)return"keyword";return"entity"};l.prototype.setConfig=function(m){"use strict";this.$MGraphSearchCompositeSource1=m};function l(){"use strict";j.apply(this,arguments)}f.exports=l}),null);
__d("TokenizeUtil",["nullthrows"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=/[ ]+/g,j=/[^ ]+/g,k=new RegExp("[^ "+m()+"]+|"+n(),"g"),l=new RegExp(n(),"g");function m(){return".,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;\u30fb\u3001\u3002\u3008-\u3011\u3014-\u301f\uff1a-\uff1f\uff01-\uff0f\uff3b-\uff40\uff5b-\uff65\u2e2e\u061f\u066a-\u066c\u061b\u060c\u060d\ufd3e\ufd3f\u1801\u0964\u104a\u104b\u2010-\u2027\u2030-\u205e\xa1-\xb1\xb4-\xb8\xba\xbb\xbf"}function n(){return"["+m()+"]"}var o={},p={a:"\u0430 \xe0 \xe1 \xe2 \xe3 \xe4 \xe5 \u0101",b:"\u0431",c:"\u0446 \xe7 \u010d",d:"\u0434 \xf0 \u010f \u0111",e:"\u044d \u0435 \xe8 \xe9 \xea \xeb \u011b \u0113",f:"\u0444",g:"\u0433 \u011f \u0123",h:"\u0445 \u0127",i:"\u0438 \xec \xed \xee \xef \u0131 \u012b",j:"\u0439",k:"\u043a \u0138 \u0137",l:"\u043b \u013e \u013a \u0140 \u0142 \u013c",m:"\u043c",n:"\u043d \xf1 \u0148 \u0149 \u014b \u0146",o:"\u043e \xf8 \xf6 \xf5 \xf4 \xf3 \xf2",p:"\u043f",r:"\u0440 \u0159 \u0155",s:"\u0441 \u015f \u0161 \u017f",t:"\u0442 \u0165 \u0167 \xfe",u:"\u0443 \u044e \xfc \xfb \xfa \xf9 \u016f \u016b",v:"\u0432",y:"\u044b \xff \xfd",z:"\u0437 \u017e",ae:"\xe6",oe:"\u0153",ts:"\u0446",ch:"\u0447",ij:"\u0133",sh:"\u0448",ss:"\xdf",ya:"\u044f"};for(var q in p){var r=p[q].split(" ");for(var s=0;s<r.length;s++)o[r[s]]=q}function t(B){return B?B.replace(l," "):""}function u(B){B=B.toLowerCase();var C="",D="";for(var E=B.length;E--;){D=B.charAt(E);C=(o[D]||D)+C}return C.replace(i," ")}function v(B){var C=arguments.length<=1||arguments[1]===undefined?j:arguments[1],D=[],E=C.exec(B);while(E){E=E[0];D.push(E);E=C.exec(B)}return D}function w(t){__p&&__p();var B=arguments.length<=1||arguments[1]===undefined?j:arguments[1],C={};return function x(D,E){__p&&__p();if(!Object.prototype.hasOwnProperty.call(C,D)){var F=u(D),G=t(F);C[D]={value:D,flatValue:F,tokens:v(G,B),isPrefixQuery:!!G&&G[G.length-1]!=" "}}if(E&&C[D].sortedTokens===undefined){C[D].sortedTokens=C[D].tokens.slice();C[D].sortedTokens.sort(function(H,I){return I.length-H.length})}return C[D]}}var x=w(t),y=w(function(B){return B},k);function z(B,C,D){var E=B=="query"||B=="query_punc",F=B=="query_punc"?y:x,G=F(C,B=="prefix"),H=B=="prefix"?h(G.sortedTokens):G.tokens,I=F(D).tokens,J={},K=G.isPrefixQuery&&E?H.length-1:null,L=function L(M,N){for(var O=0;O<I.length;++O){var P=I[O];if(!J[O]&&(P==M||(E&&N===K||B=="prefix")&&P.indexOf(M)===0))return J[O]=true}return false};return Boolean(H.length&&H.every(L))}var A={flatten:u,parse:x,parseIncludingPunctuations:y,getPunctuation:n,makeParse:w,isExactMatch:z.bind(null,"exact"),isQueryMatch:z.bind(null,"query"),isQueryMatchIncludingPunctuations:z.bind(null,"query_punc"),isPrefixMatch:z.bind(null,"prefix"),tokenize:v};f.exports=A}),null);
__d("MGraphSearchTypeaheadOnDemandSource",["MSearchKeywordsConst","MTypeaheadOnDemandSource","SearchMTouchGlobalOptions","Stratcom","TokenizeUtil","createArrayFromMixed","mSearchSimplificationResultTransformer"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();var o,p,q="graph-search-entry-point";o=babelHelpers.inherits(r,i);p=o&&o.prototype;function r(s,t){"use strict";__p&&__p();t=t||{};p.constructor.call(this,s,t);this.enableImmediateReturnOfCachedResults=true;this.setNormalizer(function(u){return u.toLowerCase()});this.setSanitizer(function(u){return u});this.queryCache={};this.groupID=null;this.isScoped=false;this.numResultsToFetch=t.numResultsToFetch;k.listen("setCurrentProfileID",q,function(event){if(event.getData().profileID!==this.groupID){this.groupID=event.getData().profileID;this.clearCache()}}.bind(this))}r.prototype.getMatchedResults=function(s){"use strict";__p&&__p();var t=s.toLowerCase();while(t.length>0&&!(t in this.queryCache))t=t.substr(0,t.length-1);if(!t)return[];var u=[];if(t===s){u=this.queryCache[s];return this.renderNodes(s,u)}for(var v=0;v<this.queryCache[t].length;v++){var w=this.queryCache[t][v];if(l.isQueryMatch(s,this._raw[w].display))u.push(w)}return this.renderNodes(s,u)};r.prototype.addToLookup=function(s,t){"use strict";this.addToQueryCache(s,t)};r.prototype.addResult=function(s,t){"use strict";var u=s.uid;if(!(u in this._raw)){s=(this.getTransformer()||this._defaultTransformer)(s);this._raw[u]=s}this._raw[u].idx=s.idx;this.addToQueryCache(u,t)};r.prototype.addToQueryCache=function(s,t){"use strict";if(!this.queryCache[t])this.queryCache[t]=[];if(this.queryCache[t].indexOf(s)===-1)this.queryCache[t].push(s)};r.prototype.setGroupID=function(s){"use strict";this.groupID=s};r.prototype.setIsScoped=function(s){"use strict";this.isScoped=s};r.prototype.setSelectedIntent=function(s){"use strict";this.selectedIntent=s};r.prototype.getAuxiliaryData=function(){"use strict";var s={};if(this.isScoped&&this.groupID!=null)s.group_id=this.groupID;return babelHelpers["extends"]({max_results:this.numResultsToFetch},s)};r.prototype.tokenize=function(s){"use strict";var t=p.tokenize.call(this,s);if(t[t.length-1]==="")t.pop();return t};r.prototype.ondata=function(s,t,u){"use strict";if(u.payload.results){if(t)t=t.toLowerCase();p.ondata.call(this,s,t,m(u.payload.results))}else{this.invoke("req_recv",0);this.invoke("complete")}};r.prototype.getTransformer=function(){"use strict";__p&&__p();if(j.keywordsOnlyEnabled)return n;return function(s){__p&&__p();if(s.type==="keyword"){var t={cost:s.cost,idx:s.idx,display:s.text,name:s.text,type:s.untranslated_type||s.type,id:s.uid,uri:s.path,logInfo:s.logInfo,subtext:s.subtext,is_grammar:s.grammar_type!=null,isScoped:s.is_scoped,boldedSubtext:s.boldedSubtext,keywordBoldedSubtext:s.keywordBoldedSubtext,keywordRenderType:s.keywordRenderType,keyword_type:s.keyword_type},u=h.keywordTypes;Object.keys(h.keywordTypes).map(function(v){var w="is"+v.charAt(0).toUpperCase()+v.slice(1);t[w]=s.keyword_type===u[v]});h.intentKeys.map(function(v){t.isSpecialIntent=t.isSpecialIntent||t[v]});return t}return{name:s.text,uri:s.path,id:s.uid,display:s.display||s.text,photo:s.photo,category:s.category,cost:s.cost,idx:s.idx,tokens:s.tokens,type:s.untranslated_type||s.type,verticalType:s.vertical_type,subtext:s.subtext,isVerified:s.is_verified,showGrayCheck:s.show_gray_check,logInfo:s.logInfo}}};r.prototype.clearCache=function(){"use strict";p.clearCache.call(this);this.queryCache={}};f.exports=r}),null);
__d("XWarmUserRequestArgsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/search/browse/warm/requestargs/",{query:{type:"String"},csid:{type:"String"}})}),null);
__d("MSearchTypeaheadNeue",["BehaviorsMixin","CancelableEventListener","CSS","DOM","EventEmitter","immutable","MGraphSearchCompositeSource","MGraphSearchTypeaheadBucketizer","MGraphSearchTypeaheadOnDemandSource","MGraphSearchTypeaheadTouchSource","MHistory","MJewel","MJewels","MPageController","MRecentSearchesUpdater","MRequest","MSearchConst","MSearchSimplificationUtils","MSearchTrendingLogger","MSearchTypeaheadLogger","MSearchTypeaheadPerfLoggerUtil","MTouchClick","MTypeaheadNullstateSource","MViewport","Parent","SearchMTouchGlobalOptions","Stratcom","Style","SubscriptionsHandler","URI","XWarmUserRequestArgsController","csx","cx","fbt","ge","gkx","joinClasses","mixin","throttle"],(function aa(ba,ca,da,ea,a,fa,b,c,d,e,f,g,h,ga,ha,ia,i,ja,j,ka,la,ma,k,l,m,na,oa,n,pa,qa,o,p,q,r,s,t,ra,sa,ta,u,ua,va,wa,xa,v){"use strict";__p&&__p();var w,x,y=g.List,ya="/search/metrics.php",z="result",A=false,za=new RegExp("^/(search|graphsearch|topic/trending|groups/search)"),Aa={display:"See More",id:"see-more-inline",isNullStateSuggestion:false,isRecentSearch:true,isSeeMoreRecentResults:true,type:"see-more-inline"};w=babelHelpers.inherits(B,xa(b));x=w&&w.prototype;function B(C){__p&&__p();x.constructor.call(this);this.$MSearchTypeaheadNeue6={};this.$MSearchTypeaheadNeue46=function(event){var E=event.getTarget(),F=E.getAttribute("data-ft"),G=E.getAttribute("data-name");if(!F||!G)return;this.setState({searchMode:"group",groupID:F,groupName:G,isVisible:true,isOpen:true,results:y()},function(){this.$MSearchTypeaheadNeue20.focus()}.bind(this))}.bind(this);this.$MSearchTypeaheadNeue44=function(){this.setState({isShowingAllRecentResults:true});this.$MSearchTypeaheadNeue51()}.bind(this);this.$MSearchTypeaheadNeue28=function(){var E=this.state.query;this.$MSearchTypeaheadNeue53("update",[E]);this.$MSearchTypeaheadNeue53("change",[E])}.bind(this);this.onInputChange=function(){this.setState({query:this.$MSearchTypeaheadNeue20.value.trimLeft()});this.$MSearchTypeaheadNeue68();this.$MSearchTypeaheadNeue8()}.bind(this);this.onInputBlur=function(){this.setState({isInputFocused:false})}.bind(this);this.onInputFocus=function(){__p&&__p();var E=this.$MSearchTypeaheadNeue20.value;this.setState({isInputFocused:true,query:E});i.pushSoftState(j.SEARCH);var F=new t(window.location),G=new t(this.props.activityLogURI);if(this.$MSearchTypeaheadNeue13||F.getPath()===G.getPath()){this.$MSearchTypeaheadNeue13=false;this.$MSearchTypeaheadNeue53("refreshRecent",[E])}if(this.$MSearchTypeaheadNeue11){var H=n.hasTouchEvents()?"touchend":"click";q.invoke(H,"graph-search-activator")}this.$MSearchTypeaheadNeue53("focus");this.$MSearchTypeaheadNeue53("change",[E]);if(!A){var I=new ma(ra.getURIBuilder().getURI());I.send();A=true}}.bind(this);this.onClearButtonEvent=function(event){event.prevent();var E="";this.setState({query:E},function(){this.$MSearchTypeaheadNeue20.focus()}.bind(this));this.$MSearchTypeaheadNeue53("change",[E]);this.$MSearchTypeaheadNeue53("update",[E])}.bind(this);this.onScopeIndicatorClickEvent=function(event){event.prevent();this.setState({searchMode:"global"},function(){this.$MSearchTypeaheadNeue20.focus()}.bind(this))}.bind(this);this.$MSearchTypeaheadNeue39=function(event){__p&&__p();var E=event.getTarget(),F=o.byTag(E,"a");if(F==null)return;var G=o.bySelector(F,"[data-edit-recent-searches]");if(G){this.$MSearchTypeaheadNeue55();return}event.prevent();var H=this.$MSearchTypeaheadNeue69(E);if(H==null)return;var I=this.$MSearchTypeaheadNeue70(H),J={isOpen:false,isVisible:H.type==="keyword",prefilledValue:I,query:I};this.setState(J);this.$MSearchTypeaheadNeue53("select",[F]);this.$MSearchTypeaheadNeue53("result-selected",[H]);this.$MSearchTypeaheadNeue71(new t(H.uriWithSession))}.bind(this);this.$MSearchTypeaheadNeue41=function(event){__p&&__p();event.prevent();var E=this.$MSearchTypeaheadNeue20.value,F="";if(E==="")return;F=this.$MSearchTypeaheadNeue50(E).addQueryData("ref","content_filter").addQueryData("tsid",this.$MSearchTypeaheadNeue12).addQueryData("source","typeahead");this.$MSearchTypeaheadNeue53("on-enter-pressed",[F.toString()]);this.$MSearchTypeaheadNeue71(new t(F));this.$MSearchTypeaheadNeue20.blur();this.setState({query:E,prefilledValue:E,isOpen:false,isVisible:E!==""});this.$MSearchTypeaheadNeue53("query",[this.state.results])}.bind(this);this.$MSearchTypeaheadNeue40=function(event){__p&&__p();var E=event.getTarget();if(va("AT7lRNSvv5EvGMuc3qVyuEm6B5fx-wiQM2ULDCbypxprax0mO6oqX7RtrS3jr3DVy5zZveUFf1UNWCcFGWRnQWgb")&&e.isType(E,["button"])){event.prevent();var F=this.$MSearchTypeaheadNeue69(E),G=this.$MSearchTypeaheadNeue70(F);if(G.length>0)G+=" ";this.setState({isOpen:true,isVisible:true,prefilledValue:G,query:G});this.$MSearchTypeaheadNeue28()}else this.$MSearchTypeaheadNeue20.blur()}.bind(this);this.$MSearchTypeaheadNeue35=function(){this.setState({isWaiting:true})}.bind(this);this.$MSearchTypeaheadNeue36=function(E){__p&&__p();if(this.state.isOpen)this.$MSearchTypeaheadNeue53("render_start");var F=y(E);F.forEach(function(J){J.uri=new t(J.uri).addQueryData("refid",k.refid)});var G=this.state,H=G.query,I=G.searchMode;if(H!==""&&I==="global")F=this.$MSearchTypeaheadNeue49(F);this.setState({results:y(F)});this.$MSearchTypeaheadNeue51()}.bind(this);this.$MSearchTypeaheadNeue37=function(){this.setState({isWaiting:false})}.bind(this);this.$MSearchTypeaheadNeue45=function(event){var E=event.getData().title||"";if(!this.state.isOpen)this.$MSearchTypeaheadNeue53("change",[E,{preventSessionStart:true}]);var F={prefilledValue:E};if(!this.state.isOpen)F=babelHelpers["extends"]({},F,{query:E,searchMode:this.$MSearchTypeaheadNeue26(),isVisible:E!==""});this.setState(F,function(){if(!this.state.isOpen)this.$MSearchTypeaheadNeue20.value=E}.bind(this))}.bind(this);this.$MSearchTypeaheadNeue65=function(event){__p&&__p();var E=this.$MSearchTypeaheadNeue21;if(E==null)return;var F=e.scry(E,"input","search-typeahead-session-id")[0];if(!F){F=document.createElement("input");F.type="hidden";F.name="tsid";E.appendChild(F);q.addSigil(F,"search-typeahead-session-id")}var G=event.getData().sessionID;F.value=G;this.$MSearchTypeaheadNeue12=G}.bind(this);this.$MSearchTypeaheadNeue29=function(){var E=this.props.root.offsetHeight+this.props.root.offsetTop,F=qa.getHeight();r.set(document.getElementById("page"),"height",Math.max(E,F)+"px")}.bind(this);this.$MSearchTypeaheadNeue33=function(){var E=i.getPath(),F=i.getParam(i.SOFT_STATE_KEY),G=F==="search",H=new t(E).getPath(),I=H.match(za)!=null,J=G||I&&(F==null||G),K=J?this.state.prefilledValue:"";this.setState({query:K,isOpen:G,isVisible:J},function(){if(this.state.isOpen)this.$MSearchTypeaheadNeue20.focus()}.bind(this))}.bind(this);this.$MSearchTypeaheadNeue47=function(){q.invoke("log-m-search-session-end",null,{reason:"navigated_away"});this.setState({searchMode:"global"})}.bind(this);this.props=C;var D=this.props.prefilledValue||"";this.state={query:D,prefilledValue:D,results:y(),isShowingAllRecentResults:false,isWaiting:false,searchMode:this.$MSearchTypeaheadNeue26(),isInputFocused:false,groupID:this.$MSearchTypeaheadNeue27(),groupName:this.props.groupName};this.$MSearchTypeaheadNeue5=new f();this.$MSearchTypeaheadNeue2=new s();this.$MSearchTypeaheadNeue3=new ga({maxResults:this.props.typeaheadConfig.compositeSourceConfig.maxResults});this.$MSearchTypeaheadNeue4=null;this.$MSearchTypeaheadNeue6={};this.$MSearchTypeaheadNeue7={};this.$MSearchTypeaheadNeue8=v(this.$MSearchTypeaheadNeue28,200);this.$MSearchTypeaheadNeue9=v(this.$MSearchTypeaheadNeue29,500);this.$MSearchTypeaheadNeue30();this.$MSearchTypeaheadNeue31();this.$MSearchTypeaheadNeue32();this.$MSearchTypeaheadNeue33();this.initBehaviors(this.props.behaviors);q.invoke("m:graph-search:ready")}B.prototype.getTypeaheadType=function(){var C=this.props.typeaheadConfig.keywordsOnlyEnabled;return C?"m_simplification":"m_graph_search"};B.prototype.getValue=function(){return this.$MSearchTypeaheadNeue20.value};B.prototype.getSessionID=function(){return this.$MSearchTypeaheadNeue12};B.prototype.$MSearchTypeaheadNeue34=function(C){this.$MSearchTypeaheadNeue4=C;this.$MSearchTypeaheadNeue10=new s();this.$MSearchTypeaheadNeue10.addSubscriptions(C.listen("req_dispatch",this.$MSearchTypeaheadNeue35),C.listen("resultsready",this.$MSearchTypeaheadNeue36),C.listen("after_complete",this.$MSearchTypeaheadNeue37));C.bindToTypeahead(this)};B.prototype.$MSearchTypeaheadNeue30=function(){var C=this.props.root;this.$MSearchTypeaheadNeue21=this.$MSearchTypeaheadNeue38();e.appendContent(C,this.$MSearchTypeaheadNeue21);this.$MSearchTypeaheadNeue25=this.props.scopeIndicator;e.appendContent(C,this.$MSearchTypeaheadNeue25);this.$MSearchTypeaheadNeue22=e.create("div",{className:"_5-lw"});e.appendContent(C,this.$MSearchTypeaheadNeue22)};B.prototype.$MSearchTypeaheadNeue31=function(){this.$MSearchTypeaheadNeue2.addSubscriptions(e.listen(this.$MSearchTypeaheadNeue22,"click",null,this.$MSearchTypeaheadNeue39),c.listen(this.$MSearchTypeaheadNeue22,"touchmove",null,this.$MSearchTypeaheadNeue40),c.listen(this.$MSearchTypeaheadNeue22,"touchstart",null,this.$MSearchTypeaheadNeue40),e.listen(this.$MSearchTypeaheadNeue20,"keyup",null,this.onInputChange),e.listen(this.$MSearchTypeaheadNeue20,"focus",null,this.onInputFocus),e.listen(this.$MSearchTypeaheadNeue20,"blur",null,this.onInputBlur),e.listen(this.$MSearchTypeaheadNeue23,"mousedown",null,this.onClearButtonEvent),c.listen(this.$MSearchTypeaheadNeue23,"touchstart",null,this.onClearButtonEvent),e.listen(this.$MSearchTypeaheadNeue21,"submit",null,this.$MSearchTypeaheadNeue41));if(this.$MSearchTypeaheadNeue24!=null)this.$MSearchTypeaheadNeue2.addSubscriptions(e.listen(this.$MSearchTypeaheadNeue24,"click",null,this.$MSearchTypeaheadNeue42));if(this.$MSearchTypeaheadNeue25!=null)this.$MSearchTypeaheadNeue2.addSubscriptions(e.listen(this.$MSearchTypeaheadNeue25,"click",null,this.onScopeIndicatorClickEvent))};B.prototype.$MSearchTypeaheadNeue43=function(C){e.listen(C,"click",null,this.$MSearchTypeaheadNeue44)};B.prototype.$MSearchTypeaheadNeue32=function(){this.$MSearchTypeaheadNeue2.addSubscriptions(q.listen("setSearchText","graph-search-entry-point",this.$MSearchTypeaheadNeue45),q.listen(n.hasTouchEvents()?"touchend":"click","m-groups-scoped-search-button",this.$MSearchTypeaheadNeue46),q.listen("m:history:change",null,this.$MSearchTypeaheadNeue33),q.listen("m:chrome:tab:hide",j.SEARCH,this.$MSearchTypeaheadNeue47))};B.prototype.$MSearchTypeaheadNeue38=function(){this.$MSearchTypeaheadNeue20=e.create("input",{id:"main-search-input","data-sigil":"search-small-box",className:"_5-lx",type:"search",name:"query",placeholder:this.$MSearchTypeaheadNeue48(),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",value:this.state.query});this.$MSearchTypeaheadNeue23=e.create("a",{href:"#",className:"_5-ly",role:"button"},u._("Effacer"));if(!this.props.typeaheadConfig.keywordsOnlyEnabled)this.$MSearchTypeaheadNeue24=null;else this.$MSearchTypeaheadNeue24=e.create("a",{href:"#",className:wa("_3k_n")},u._("Annuler"));return e.create("form",{className:"_13e_",action:"/search/top/"},[e.create("div",{className:"_13fn"},[this.$MSearchTypeaheadNeue20,e.create("label",{htmlFor:"main-search-input",className:"_13fo"},u._("Rechercher")),this.$MSearchTypeaheadNeue23]),this.$MSearchTypeaheadNeue24])};B.prototype.$MSearchTypeaheadNeue49=function(C){var D=this.state.query,E={id:l.getKeywordSemantic(D),type:"keyword",isSeeMore:true,display:D,uri:this.$MSearchTypeaheadNeue50(D).toString(),keyword_type:"escape"};C=C.push(E);return C};B.prototype.$MSearchTypeaheadNeue51=function(){__p&&__p();var C=this.props.typeaheadConfig,D=C.hasRecentSearchesSeeMoreButton,E=C.keywordsOnlyEnabled,F=C.keywordBucketSize,G=C.defaultNumTopResultsToShow,H=C.initialNumRecentResultsToShow,I=this.state.results,J=this.state,K=J.query,L=J.searchMode,M=this.$MSearchTypeaheadNeue3.bucketize(I.toArray(),E?F:G),N=[],O=[],P=-1,Q=M.find(function(W){return W.headerType==="recent"}),R=[],S=Q?Q.results.length:0,T=0;if(Q&&S>H&&!this.state.isShowingAllRecentResults)Q.results.splice(H);if(D&&Q&&S>H&&!this.state.isShowingAllRecentResults)Q.results.push(Aa);var U=[];M.forEach(function(W,X){__p&&__p();var Y=W.headerType,I=W.results;if(Y==="suggested"&&"group_search"in M)Y="suggested_global";if(K.length===0||X<M.length-1){var Z=this.props.renderers.Header({activityLogURI:this.props.activityLogURI,isFirst:X===0,query:K,searchMode:L,type:Y});if(Z!=null)R.push(Z)}var Ba=I.map(function($,X){U.push($);if(this.state.isVisible&&$.isTrending&&$.isNullStateSuggestion){N[T]=$.topicID;O[T]=T+1;P=$.trendingQueryID}return this.$MSearchTypeaheadNeue52($)}.bind(this));R.push.apply(R,Ba)}.bind(this));this.$MSearchTypeaheadNeue53("show",[U,{preventSessionStart:true}]);if(N.length>0&&!this.$MSearchTypeaheadNeue1){var V;this.$MSearchTypeaheadNeue1=new s();(V=this.$MSearchTypeaheadNeue1).addSubscriptions.apply(V,m.registerTrendingTopicListeners(N,k.msite_news_null_state,O,P));m.logTrendingTopicImpressions(N,k.msite_news_null_state,O,P)}else if(this.$MSearchTypeaheadNeue1!=null){this.$MSearchTypeaheadNeue1.release();this.$MSearchTypeaheadNeue1=null}e.empty(this.$MSearchTypeaheadNeue22);e.appendContent(this.$MSearchTypeaheadNeue22,R);if(this.state.isOpen){this.$MSearchTypeaheadNeue9();this.$MSearchTypeaheadNeue53("rendered")}};B.prototype.$MSearchTypeaheadNeue52=function(C){__p&&__p();var D=this.state.results.indexOf(C);if(C.uri)if(this.$MSearchTypeaheadNeue16&&C.type=="page")C.uriWithSession=new t("/search/").addQueryData({query:C.name,tsid:this.$MSearchTypeaheadNeue12,source:z}).toString();else C.uriWithSession=new t(C.uri).addQueryData({tsid:this.$MSearchTypeaheadNeue12,source:z}).toString();if(C.isTrending)C.uriWithSession=new t(C.uriWithSession).addQueryData("position",D+1).toString();var E=this.$MSearchTypeaheadNeue54(C),F=E({query:this.state.query,result:C});if(C.isSeeMoreRecentResults)this.$MSearchTypeaheadNeue43(F);return F};B.prototype.$MSearchTypeaheadNeue54=function(C){if(C.isNullStateSuggestion)return this.props.renderers.NullstateResult;if(C.isSeeMoreRecentResults)return this.props.renderers.SeeMoreRecentResultsButton;return this.props.renderers.TypedResult};B.prototype.$MSearchTypeaheadNeue55=function(){this.$MSearchTypeaheadNeue13=true};B.prototype.$MSearchTypeaheadNeue56=function(){return this.props.typeaheadConfig};B.prototype.$MSearchTypeaheadNeue57=function(){return this.state.searchMode};B.prototype.$MSearchTypeaheadNeue58=function(C){__p&&__p();var D=p.queryThrottleTime,E=p.enableQueryThrottle,F=p.enableEagerSendRequest,G=p.queryWaitTime,H=p.redirectPages;if(this.$MSearchTypeaheadNeue4!=null&&!C)return;var I=this.$MSearchTypeaheadNeue4;if(I!=null){this.$MSearchTypeaheadNeue10.release();I.unbindFromTypeahead()}var J=this.$MSearchTypeaheadNeue57(),K=void 0;if(J!=null)K=this.$MSearchTypeaheadNeue6[J];if(K){this.$MSearchTypeaheadNeue34(K);this.$MSearchTypeaheadNeue53("refresh");return}var L=this.$MSearchTypeaheadNeue56().sources,M=[],N=void 0;if(L.bootstrapped&&this.state.searchMode!=="group"){N=this.$MSearchTypeaheadNeue59(L.bootstrapped.src,L.bootstrapped.source_key);N.setConvertEntityToKeyword(p.keywordsOnlyEnabled);N.setShouldOnlyPrefixMatch(p.prefixMatchEntityBootstrap);if(L.bootstrapped.max_results!=null)N.setMaximumResultCount(L.bootstrapped.max_results);N.setShowSecondaryAction(true);N.clientRendered=true;this.$MSearchTypeaheadNeue14=N;M.push(N)}if(L.nullstate){this.$MSearchTypeaheadNeue15=this.$MSearchTypeaheadNeue60(L.nullstate.src);this.$MSearchTypeaheadNeue15.setMaximumResultCount(L.nullstate.max_results);this.$MSearchTypeaheadNeue15.setShowSecondaryAction(true);this.$MSearchTypeaheadNeue15.clientRendered=true;this.$MSearchTypeaheadNeue15.setCurrentProfileID(this.props.currentProfileID);if(this.state.searchMode==="group"){this.$MSearchTypeaheadNeue15.setEnableScoped(true);this.$MSearchTypeaheadNeue15.setCurrentProfileID(this.state.groupID)}M.push(this.$MSearchTypeaheadNeue15)}var O=L.online;if(O){N=this.$MSearchTypeaheadNeue61(O.src);N.setMaximumResultCount(O.max_results);N.setEnableImmediateReturnOfCachedResults(O.enable_caching);N.setMaxResults(this.props.typeaheadConfig.numResultsToFetch);if(E)N.setThrottleSendRequest(D);N.setEnableEagerSendRequest(F);N.setQueryDelay(G);this.$MSearchTypeaheadNeue16=H;N.setShowSecondaryAction(true);N.clientRendered=true;M.push(N)}I=this.$MSearchTypeaheadNeue62(M);I.clientRendered=true;I.mergeKey="id";this.$MSearchTypeaheadNeue34(I);this.$MSearchTypeaheadNeue53("start");this.$MSearchTypeaheadNeue6[J]=this.$MSearchTypeaheadNeue4};B.prototype.$MSearchTypeaheadNeue62=function(C){var D=new h(C);D.setConfig(this.props.typeaheadConfig.compositeSourceConfig);return D};B.prototype.$MSearchTypeaheadNeue61=function(C){var D=this.props.typeaheadConfig,E=D.disableLongerQueryCacheHit,F=D.numResultsToFetch;C=new ha(C,{disableLongerQueryCacheHit:E,numResultsToFetch:F});if(this.state.searchMode==="group"){C.setIsScoped(true);C.setGroupID(this.state.groupID)}return C};B.prototype.$MSearchTypeaheadNeue59=function(C,D){return new ia(C,D)};B.prototype.$MSearchTypeaheadNeue60=function(C){return new pa(C)};B.prototype.$MSearchTypeaheadNeue63=function(){if(!this.props.typeaheadConfig.mSideNavMarauderLogger||this.$MSearchTypeaheadNeue17)return;this.$MSearchTypeaheadNeue2.addSubscriptions(this.props.typeaheadConfig.mSideNavMarauderLogger.setupTypeaheadListener(this));this.$MSearchTypeaheadNeue17=true};B.prototype.$MSearchTypeaheadNeue64=function(){if(this.$MSearchTypeaheadNeue18)return;var C=new na(this,ya);this.$MSearchTypeaheadNeue2.addSubscriptions({remove:function D(){return C.destroy()}});this.$MSearchTypeaheadNeue2.addSubscriptions(q.listen("m-typeahead-logger:new-session-id",null,this.$MSearchTypeaheadNeue65));this.$MSearchTypeaheadNeue18=true;this.$MSearchTypeaheadNeue2.addSubscriptions(q.listen("log-m-search-session-end",null,function(D){C.blur(D.getData().reason)}))};B.prototype.$MSearchTypeaheadNeue66=function(){var C,D=this;if(this.props.typeaheadConfig.hasRecentSearches)(function(){var E=new la(D);D.$MSearchTypeaheadNeue2.addSubscriptions({remove:function F(){return E.destroy()}})})()};B.prototype.$MSearchTypeaheadNeue67=function(){var C=this.$MSearchTypeaheadNeue57();if(C!=null&&(!this.props.typeaheadConfig.typeaheadScubaInfo||this.$MSearchTypeaheadNeue7[C]))return;var D=oa.getNewMSearchTypeaheadPerfLogger,E=D(this,this.props.typeaheadConfig.typeaheadScubaInfo,this.props.typeaheadConfig.sources.online.enable_caching||false);this.$MSearchTypeaheadNeue2.addSubscriptions({remove:function F(){return E.destroy()}});this.$MSearchTypeaheadNeue19=E;this.$MSearchTypeaheadNeue7[C]=true};B.prototype.$MSearchTypeaheadNeue68=function(){var C=this.$MSearchTypeaheadNeue20.value;this.$MSearchTypeaheadNeue53("keypress",[C])};B.prototype.listen=function(C,D){var E=this.$MSearchTypeaheadNeue5.addListener(C,D);return{type:C,callback:D,remove:function F(){E.remove()}}};B.prototype.$MSearchTypeaheadNeue53=function(C){var D,E=arguments.length<=1||arguments[1]===undefined?[]:arguments[1];(D=this.$MSearchTypeaheadNeue5).emit.apply(D,[C].concat(E))};B.prototype.$MSearchTypeaheadNeue42=function(event){event.prevent();i.popSoftState(j.SEARCH)};B.prototype.$MSearchTypeaheadNeue50=function(C){C=C.trim();var D=this.state.groupID;if(D&&this.state.searchMode==="group")return l.getGroupSearchURI(D,C);return l.getKeywordURI(C)};B.prototype.$MSearchTypeaheadNeue27=function(){var C=new t(window.location);return C.getQueryData().groupID};B.prototype.$MSearchTypeaheadNeue70=function(C){return C!=null&&C.type==="keyword"?C.display:""};B.prototype.$MSearchTypeaheadNeue69=function(C){var D=o.byTag(C,"a"),E=null;if(D!=null)E=this.state.results.filter(function(E){return String(E.id)===String(D.getAttribute("rel"))}).first();return E};B.prototype.$MSearchTypeaheadNeue72=function(C){if(C.getQueryData().groupID)return"group";return null};B.prototype.$MSearchTypeaheadNeue26=function(){var C=new t(window.location),D=this.$MSearchTypeaheadNeue72(C);if(D!=null)return D;return"global"};B.prototype.$MSearchTypeaheadNeue48=function(){if(this.state.searchMode==="group"&&this.$MSearchTypeaheadNeue25===null)return u._("Rechercher dans {groupName}",[u.param("groupName",this.state.groupName)]);else return u._("Rechercher")};B.prototype.$MSearchTypeaheadNeue71=function(C){ka.load(C)};B.prototype.setState=function(C,D){__p&&__p();var E=babelHelpers["extends"]({},this.state);this.state=babelHelpers["extends"]({},this.state,C);if(this.state.query!==E.query&&this.$MSearchTypeaheadNeue20.value!==this.state.query)this.$MSearchTypeaheadNeue20.value=this.state.query;if(!this.$MSearchTypeaheadNeue11&&!E.isVisible&&this.state.isVisible){this.$MSearchTypeaheadNeue58();this.$MSearchTypeaheadNeue63();this.$MSearchTypeaheadNeue64();this.$MSearchTypeaheadNeue67();this.$MSearchTypeaheadNeue66();var F=n.hasTouchEvents()?"touchend":"click";q.invoke(F,"graph-search-activator");this.$MSearchTypeaheadNeue53("change",[this.$MSearchTypeaheadNeue20.value]);this.$MSearchTypeaheadNeue11=true}else if(this.state.searchMode!==E.searchMode){this.$MSearchTypeaheadNeue58(true);this.$MSearchTypeaheadNeue67();this.$MSearchTypeaheadNeue28()}if(this.state.searchMode!==E.searchMode)this.$MSearchTypeaheadNeue20.setAttribute("placeholder",String(this.$MSearchTypeaheadNeue48()));if(this.$MSearchTypeaheadNeue25!=null&&this.state.isOpen)if(this.state.searchMode!=="group")d.hide(this.$MSearchTypeaheadNeue25);else{if(this.state.groupName!==E.groupName){var G=e.find(this.$MSearchTypeaheadNeue25,"span"),H=e.create("span",this.state.groupName);e.replace(G,H)}d.show(this.$MSearchTypeaheadNeue25)}if(this.state.isOpen!==E.isOpen||this.state.isVisible!==E.isVisible){var I=ua(ja.JEWEL_NAV_NODE_ID);if(I!=null){var J=e.find(I,"*","search");if(J)d.conditionClass(J,"isActive",!!this.state.isVisible)}}var K=this.props.root;if(this.state.isOpen!==E.isOpen){d.conditionClass(K,"_h3o",!!this.state.isOpen);d.conditionClass(K,"_13gr",!this.state.isOpen)}if(this.state.isVisible!==E.isVisible){d.conditionClass(K,"_1vty",!!this.state.isVisible);d.conditionClass(K,"_1vtz",!this.state.isVisible)}if(!this.state.isOpen&&E.isOpen){this.$MSearchTypeaheadNeue20.blur();r.set(document.getElementById("page"),"height",null)}if(this.state.isWaiting&&!E.isWaiting)d.addClass(this.props.root,"_13gv");else if(!this.state.isWaiting&&E.isWaiting)d.removeClass(this.props.root,"_13gv");if(this.state.query&&this.state.isInputFocused)e.show(this.$MSearchTypeaheadNeue23);else e.hide(this.$MSearchTypeaheadNeue23);if(D!=null)D()};B.prototype.initBehaviors=function(C){C.forEach(function(D){this.enableBehavior(D)}.bind(this))};B.prototype.getRoot=function(){return this.props.root};B.init=function(C){return new B(C)};a.exports=B}),null);